"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{2616:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(5893),i=n(5152);n(9683);function o(e){var t=e.color,n=e.value,i=e.index;return(0,r.jsxs)("div",{style:{position:"relative",display:"block",textAlign:"left"},children:[(0,r.jsx)("p",{style:{width:"10px",height:"10px",backgroundColor:t,display:"inline-block",position:"absolute",top:"8px",left:"0",margin:"0"}},"tooltip_color_".concat(i)),(0,r.jsx)("p",{style:{display:"inline-block",fontWeight:"bold",margin:"0 5px 0 15px",fontSize:"0.8rem"},children:n},"tooltip_p_val_".concat(i))]},"tooltip_line_".concat(i))}var a=function(e){var t=e.firstWeek,n=e.weeks,i=e.week,a=e.lines,l=e.nonpercentage,c=e.ticks;return(0,r.jsxs)("div",{className:"tooltip-content",style:n===i?{position:"relative",transform:"translateX(-130%)"}:{},children:[(0,r.jsx)("div",{style:{fontWeight:"bold",borderBottom:"thin solid black",marginBottom:"10px",textAlign:"center"},children:"".concat(c[i-t],":")},"header_multi"),a.filter((function(e){return null!==e.lineValues[i-t]})).map((function(e,n){return(0,r.jsx)(o,{color:e.color,value:(e.lineValues[i-t]+(l?"":"%")).replace(".",","),index:n},n)}))]})},l=n(7294),c=n(5934);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var f=(0,i.default)((function(){return Promise.all([n.e(497),n.e(348)]).then(n.t.bind(n,9348,23))}),{loadableGenerated:{webpack:function(){return[9348]}},ssr:!1});function d(e){var t=e.xy;return(0,r.jsx)("line",{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,style:{strokeDasharray:"3 3",stroke:"#CDCDCD",strokeOpacity:.4}},"line-".concat(t.y1,"-").concat(t.x1))}function h(e){var t=(e.yMax-e.yMin)/5,n=Array.from(new Array(6),(function(n,r){return e.yMin+r*t}));if(!e.showYAxis)return{orient:"left",ticks:0,baseline:!1,showOutboundTickLines:!1,tickLineGenerator:function(e){return null},tickFormat:function(e){return null}};return{orient:"left",tickValues:n,baseline:!1,showOutboundTickLines:!1,tickLineGenerator:function(e){var t=e.xy;return(0,r.jsx)(d,{xy:t},(0,c.Z)())},tickFormat:function(t){return t===e.yMin||t===e.yMax?t+(e.nonpercentage?"":" %"):null},label:e.yLabel}}var p=function(e){var t,n,r=e.split("\u2013"),i=r[r.length-1],o=function(e){var t=e.split(". ");return 3===t.length?new Date(t[2],t[1]-1,t[0]):null}(i);if(t=o,(null!=(n=Date)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&!isNaN(o.valueOf())){var a=e.replace(i,"");return"".concat(a).concat(o.getDate(),". ").concat(o.getMonth()+1,".")}return e};function y(e,t){var n;for(n=1;n<100&&!(e.weeks/n<=t);n++);var i=e.ticks.length/n;return{orient:"bottom",showOutboundTickLines:!0,ticks:e.weeks>30?e.weeks/4:e.weeks,tickFormat:function(r){var o=r-e.firstWeek,a=0===o,l=o===e.ticks.length-1;return 0===t?a||l?"".concat(p(e.ticks[o])):null:o%n===0&&o/n+1<=i||l?"".concat(p(e.ticks[o])):null},tickLineGenerator:function(e){var t=e.xy;return(0,r.jsx)(d,{xy:t},(0,c.Z)())}}}var k=function(e){var t=e.dataProps,n=e.chartType,i=e.filter,o=e.highlightedLineIndex,c=e.lineStyles,s=t.values.lines.filter((function(e,t){return!i||i.includes(t)})),d=t.colors.filter((function(e,t){return!i||i.includes(t)})),k="stackedarea"===n,v=k?s.map((function(e,n){return{coordinates:e.map((function(e,r){return{week:r+t.firstWeek,value:s.slice(n).map((function(e){return e[r]})).reduce((function(e,t){return e+t}),0)}})).filter((function(e){return null!==e.value}))}})):s.map((function(e,n){return{coordinates:e.map((function(n,r){return{week:r+t.firstWeek,value:e[r]}})).filter((function(e){return null!==e.value}))}})),x=function(e,t,n){if(e.annotation){var r=t.map((function(r,i){return{type:"frame-hover",x:e.annotation.week,y:n?t.slice(i).map((function(t){return t[e.annotation.week-e.firstWeek]})).reduce((function(e,t){return e+t}),0):r[e.annotation.week-e.firstWeek],value:r[e.annotation.week-e.firstWeek]}})).slice(e.annotation.lineIndex,e.annotation.lineIndex+1),i=t.map((function(r,i){return{type:"xy",x:e.annotation.week,y:n?t.slice(i).map((function(t){return t[e.annotation.week-e.firstWeek]})).reduce((function(e,t){return e+t}),0):t[i][e.annotation.week-e.firstWeek]}}));return[{type:"x",week:e.annotation.week,disable:["connector","note"]}].concat(r).concat(i)}return[]}(t,s,k),g="stackedarea"===n?"area":void 0,m=s.map((function(e,t){return{lineValues:e,color:d[t]}})),b=(0,l.useState)(2),w=b[0],j=b[1];(0,l.useEffect)((function(){var e=document.getElementsByClassName("chart-content")[0].offsetWidth/(5*(t.ticks.map((function(e){return p(e).length})).reduce((function(e,t){return e+t}))/t.ticks.length)),n=Math.min(t.weeks,Math.round(e));j(n)}));var O={lines:v,size:t.size,margin:{left:t.yLabel?65:55,bottom:50,right:45,top:10},lineType:g,responsiveWidth:!0,xAccessor:"week",yAccessor:"value",yExtent:[t.yMin,t.yMax],xExtent:[t.firstWeek,t.weeks+t.firstWeek-1],lineDataAccessor:"coordinates",lineStyle:function(e,t){return"stackedarea"===n?function(e,t){return{fill:e[t],fillOpacity:"1"}}(d,t):function(e,t,n,r){return"dashed"===(e?e[n]:void 0)?{stroke:t[n],strokeWidth:1,strokeOpacity:void 0!==r?n===r?1:.25:1,fill:t[n],strokeDasharray:0===n?"10 10":"5 5"}:{stroke:t[n],strokeWidth:n===r?4:2,strokeOpacity:void 0!==r?n===r?1:.25:1,fill:t[n]}}(c,d,t,o)},pointStyle:{fill:"none",stroke:"gray",strokeWidth:"1px"},axes:[h(t),y(t,w)],hoverAnnotation:[{type:"x",disable:["connector","note"]}],annotations:x,customHoverBehavior:function(e){return t.onHover?t.onHover(e):null},tooltipContent:function(e){return(0,r.jsx)(a,{firstWeek:t.firstWeek,weeks:t.weeks,week:e.x,lines:m,nonpercentage:t.nonpercentage,ticks:t.ticks})}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{textAlign:"center",marginLeft:"50px",marginRight:"10px",textTransform:"uppercase",height:t.title?"2rem":0,overflow:"hidden"},children:t.title}),(0,r.jsx)("h4",{style:{textAlign:"center",margin:"0",marginLeft:"50px",marginRight:"10px",fontSize:"0.85rem",fontWeight:"normal"},children:t.subtitle}),(0,r.jsx)("div",{children:(0,r.jsx)(f,u({},O))})]})};function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e){var t=e.color,n=e.title,i=e.description,o=e.smallItem,a=e.onHover,l=e.onMouseOut,c=e.opacity,s=o?{fontSize:"0.9rem"}:{};return(0,r.jsxs)("li",{onMouseOver:function(e){return a(e)},onMouseOut:function(e){return l(e)},style:{opacity:c},children:[(0,r.jsx)("h2",{className:"legend-title",style:x({},s,{color:t}),children:n}),(0,r.jsx)("div",{className:"legend-description",dangerouslySetInnerHTML:{__html:i}})]})}function m(e){var t=e.items,n=e.title,i=e.onHover,o=e.highlightedLineIndex,a=e.highlightingEnabled,c=(e.lineStyles,n?(0,r.jsx)("h2",{className:"legend-title",children:n}):(0,r.jsx)(r.Fragment,{})),s=t.length>10;return(0,r.jsxs)("div",{className:"legend",children:[a&&(0,r.jsx)("span",{style:{fontSize:"0.8rem",color:"#7C8A92"},children:"pro zv\xfdrazn\u011bn\xed jednotliv\xfdch kategori\xed, naje\u010fte na n\xe1zev kategorie"}),c,(0,r.jsx)("ul",{style:{listStyle:"none",flexBasis:"20%",paddingLeft:"0"},children:t.map((function(e,t){return(0,l.createElement)(g,x({},e,{key:"legend-item-".concat(t),smallItem:s,onHover:function(e){return i(t)},onMouseOut:function(e){return i()},opacity:void 0!==o?o===t?1:.5:1}))}))})]})}n(1163);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function j(e,t,n,r,i,o){var a,l;return{key:"chart-".concat(n),weeks:e.weeks,firstWeek:e.firstWeek,colors:e.colors,titles:e.titles,yMin:0,yMax:null!==(l=null!==(a=e.yMaxSmall)&&void 0!==a?a:e.yMax)&&void 0!==l?l:100,showYAxis:!0,values:t,size:[300,r],annotation:i,onHover:o,nonpercentage:!e.percentage,title:t.title,ticks:e.ticks,subtitle:t.subtitle}}function O(e,t,n,r){var i;return{key:"chart-total",weeks:e.weeks,firstWeek:e.firstWeek,colors:e.colors,titles:e.titles,yMin:0,yMax:null!==(i=e.yMax)&&void 0!==i?i:100,showYAxis:!0,values:e.total,title:"",size:[800,t],annotation:n,onHover:r,nonpercentage:!e.percentage,ticks:e.ticks,yLabel:e.yLabel}}function S(e){var t=e.dataProps,n=e.group,i=e.total,o=e.filter,a=e.legendTitle,c=e.legendDescriptions,s=e.omit,u=(0,l.useState)(),f=u[0],d=u[1],h=(0,l.useState)(600),p=h[0],y=h[1],v=(0,l.useState)(),x=v[0],g=v[1],b={items:t.titles.map((function(e,n){return{color:t.legendColors[n],title:e,description:c[n]}})).filter((function(e,t){return!o||o.includes(t)})),title:a,onHover:t.asLineChart?function(e){return g(e)}:function(e){},highlightedLineIndex:x,highlightingEnabled:t.asLineChart&&t.total.lines.length>1,lineStyles:t.lineStyles},S=function(e){e?d({week:e.week,lineIndex:e.parentLine.key}):d()},W=t.asLineChart?"line":"stackedarea",L=t.groups[n].data.map((function(e,n){return(0,r.jsx)("div",{className:"chart-content",children:(0,r.jsx)(k,{lineStyles:t.lineStyles,dataProps:j(t,e,n,p,f,S),chartType:W,filter:o,highlightedLineIndex:x},"chart-".concat(n+(x?"-".concat(x):"")))})})).filter((function(e,t){return!s.includes(t)})),M=(0,r.jsx)("div",{className:"chart-content",children:(0,r.jsx)(k,{lineStyles:t.lineStyles,dataProps:O(t,p,f,S),chartType:W,filter:o,highlightedLineIndex:x},"chart-".concat(null!==x&&void 0!==x?x:""))});(0,l.useLayoutEffect)((function(){var e=function(){var e=document.getElementsByClassName("chart-content")[0];y(.6*e.offsetWidth)};e(),window.addEventListener("resize",e)}));var P=i?(0,r.jsx)(r.Fragment,{children:M}):(0,r.jsx)("div",{className:"multiple-charts-wrapper",children:L});return(0,r.jsxs)("div",{className:"chart-wrapper",children:[(0,r.jsx)("div",{className:"chart",children:P}),(0,r.jsx)(m,w({},b))]})}}}]);